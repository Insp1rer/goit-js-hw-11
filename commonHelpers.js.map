{"version":3,"file":"commonHelpers.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["export function getImages(image) {\n  //-------------------------------------------URL-BUILDEER-------------------------------------------\\\\\n\n  const BASE_URL = 'https://pixabay.com/api/';\n  const params = new URLSearchParams({\n    key: '43252696-8c48e7f381a0da5ec3ef140c1',\n    q: image,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  });\n  const URL = `${BASE_URL}?${params}`;\n\n  //-------------------------------------------FETCH-------------------------------------------\\\\\n\n  return fetch(URL).then(response => {\n    if (!response.ok) throw response;\n    return response.json();\n  });\n\n  //-------------------------------------------------------------------------------------------\\\\\n}\n","//-------------------------------------------IMPORTS-------------------------------------------\\\\\n\nimport SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\n//-------------------------------------------MARKUP-------------------------------------------\\\\\n\nconst gallery = document.querySelector('.gallery');\n\nexport function render(arrOfImages) {\n  const renderImages = arrOfImages\n    .map(\n      ({\n        largeImageURL,\n        webformatURL,\n        tags,\n        likes,\n        views,\n        comments,\n        downloads,\n      }) => `\n        <li class=\"gallery-item\">\n          <a class=\"open-large-image\" href=\"${largeImageURL}\">\n            <img class=\"gallery-img\" src=\"${webformatURL}\" alt=\"${tags}\" />\n          </a>\n          <ul class=\"info\">\n            <li class=\"info-item\">\n              <p>Likes</p>\n              <span class=\"info-item-details\">${likes}</span>\n            </li>\n            <li class=\"info-item\">\n              <p>Views</p>\n              <span class=\"info-item-details\">${views}</span>\n            </li>\n            <li class=\"info-item\">\n              <p>Downloads</p>\n              <span class=\"info-item-details\">${downloads}</span>\n            </li>\n            <li class=\"info-item\">\n              <p>Comments</p>\n              <span class=\"info-item-details\">${comments}</span>\n            </li>\n          </ul>\n        </li>\n      `\n    )\n    .join('');\n\n  gallery.innerHTML = renderImages;\n\n  //-------------------------------------------SIMPLELIGHTBOX-------------------------------------------\\\\\n\n  const lightbox = new SimpleLightbox('.gallery a', {\n    className: 'simple-lightbox',\n    captionsData: 'alt',\n    captionDelay: 250,\n    animationSpeed: 400,\n    overlayOpacity: 0.5,\n  });\n\n  lightbox.refresh();\n\n  //-------------------------------------------------------------------------------------------\\\\\n}\n","//-------------------------------------------IMPORTS-------------------------------------------\\\\\n\nimport { getImages } from './js/pixabay-api';\nimport { render } from './js/render-functions';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\n//-------------------------------------------CONST&LISTENER-------------------------------------------\\\\\n\nconst form = document.querySelector('.overall-form');\nconst gallery = document.querySelector('.gallery');\nform.addEventListener('submit', handleImageSearch);\n\n//-------------------------------------------LOADER+INPUTCHECK-------------------------------------------\\\\\n\nfunction handleImageSearch(e) {\n  e.preventDefault();\n\n  gallery.innerHTML = `<div class=\"loader\"></div>`;\n\n  const loader = document.querySelector('.loader');\n  const userInput = e.currentTarget.elements.searchImg.value.trim();\n\n  if (userInput.length === 0) {\n    iziToast.error({\n      position: 'topRight',\n      title: 'Error',\n      message: 'Пусте поле!',\n    });\n    loader.classList.remove('loader');\n    return;\n  }\n\n  e.currentTarget.reset();\n\n  //-------------------------------------------GET-------------------------------------------\\\\\n  //Додав таймаут тому що з 'затримкою' loader виглядає гарніше\n\n  setTimeout(() => {\n    getImages(userInput)\n      .then(data => {\n        if (!data.hits.length) {\n          iziToast.error({\n            position: 'topRight',\n            title: 'Error',\n            message: 'По вашому запиту нічого не знайдено',\n          });\n          loader.classList.remove('loader');\n        } else {\n          render(data.hits);\n        }\n      })\n      .catch(() => {\n        iziToast.error({\n          position: 'topRight',\n          title: 'Error',\n          message: 'Невідома помилка',\n        });\n      });\n  }, 1700);\n}\n\n//--------------------------------------------------------------------------------------------\\\\\n"],"names":["getImages","image","BASE_URL","params","URL","response","gallery","render","arrOfImages","renderImages","largeImageURL","webformatURL","tags","likes","views","comments","downloads","SimpleLightbox","form","handleImageSearch","e","loader","userInput","iziToast","data"],"mappings":"6vBAAO,SAASA,EAAUC,EAAO,CAG/B,MAAMC,EAAW,2BACXC,EAAS,IAAI,gBAAgB,CACjC,IAAK,qCACL,EAAGF,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,CAAG,EACKG,EAAM,GAAGF,CAAQ,IAAIC,CAAM,GAIjC,OAAO,MAAMC,CAAG,EAAE,KAAKC,GAAY,CACjC,GAAI,CAACA,EAAS,GAAI,MAAMA,EACxB,OAAOA,EAAS,MACpB,CAAG,CAGH,CCdA,MAAMC,EAAU,SAAS,cAAc,UAAU,EAE1C,SAASC,EAAOC,EAAa,CAClC,MAAMC,EAAeD,EAClB,IACC,CAAC,CACC,cAAAE,EACA,aAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACR,IAAY;AAAA;AAAA,8CAEkCN,CAAa;AAAA,4CACfC,CAAY,UAAUC,CAAI;AAAA;AAAA;AAAA;AAAA;AAAA,gDAKtBC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILC,CAAK;AAAA;AAAA;AAAA;AAAA,gDAILE,CAAS;AAAA;AAAA;AAAA;AAAA,gDAITD,CAAQ;AAAA;AAAA;AAAA;AAAA,OAKnD,EACA,KAAK,EAAE,EAEVT,EAAQ,UAAYG,EAIH,IAAIQ,EAAe,aAAc,CAChD,UAAW,kBACX,aAAc,MACd,aAAc,IACd,eAAgB,IAChB,eAAgB,EACpB,CAAG,EAEQ,QAAO,CAGlB,CCtDA,MAAMC,EAAO,SAAS,cAAc,eAAe,EAC7CZ,EAAU,SAAS,cAAc,UAAU,EACjDY,EAAK,iBAAiB,SAAUC,CAAiB,EAIjD,SAASA,EAAkBC,EAAG,CAC5BA,EAAE,eAAc,EAEhBd,EAAQ,UAAY,6BAEpB,MAAMe,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAYF,EAAE,cAAc,SAAS,UAAU,MAAM,OAE3D,GAAIE,EAAU,SAAW,EAAG,CAC1BC,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,aACf,CAAK,EACDF,EAAO,UAAU,OAAO,QAAQ,EAChC,MACD,CAEDD,EAAE,cAAc,QAKhB,WAAW,IAAM,CACfpB,EAAUsB,CAAS,EAChB,KAAKE,GAAQ,CACPA,EAAK,KAAK,OAQbjB,EAAOiB,EAAK,IAAI,GAPhBD,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,qCACrB,CAAW,EACDF,EAAO,UAAU,OAAO,QAAQ,EAI1C,CAAO,EACA,MAAM,IAAM,CACXE,EAAS,MAAM,CACb,SAAU,WACV,MAAO,QACP,QAAS,kBACnB,CAAS,CACT,CAAO,CACJ,EAAE,IAAI,CACT"}